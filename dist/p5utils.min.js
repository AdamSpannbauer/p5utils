!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.p5utils=n():e.p5utils=n()}(self,(function(){return(()=>{"use strict";var e={d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{addNoise:()=>s,lineIntersection:()=>i,linesIntersect:()=>l,maskedNoisyLine:()=>c,noisyEllipse:()=>a,noisyLine:()=>u});const t=(e,n,t,o,r,l)=>{const i=((e,n,t,o,r,l)=>{const i=(o-n)*(r-t)-(l-o)*(t-e);return 0===i?0:i<0?1:2})(e,n,t,o,r,l);return 1===i},o=(e,n,t,o,r=1e-6)=>e===t?r:(o-n)/(t-e),r=(e,n,t,r)=>{const l=o(e,n,t,r),i=((e,n,t,r)=>n-o(e,n,t,r)*e)(e,n,t,r);return{m:l,b:i}},l=(e,n,o,r,l,i,s,p)=>{const u=t(e,n,o,r,l,i),c=t(o,r,l,i,s,p),a=t(e,n,o,r,s,p);return t(e,n,s,p,s,p)!==c&&u!==a},i=(e,n,t,o,i,s,p,u)=>{if(!l(e,n,t,o,i,s,p,u))return null;const{m:c,b:a}=r(e,n,t,o),{m:d,b:y}=r(i,s,p,u);if(c===d)return null;const f=(y-a)/(c-d);return{x:f,y:c*f+a}},s=({x:e,y:n},t=.001,o=32)=>{const r=noise(e*t,n*t),l=noise(e*t,n*t,42);return{x:e+map(r,0,1,-o,o),y:n+map(l,0,1,-o,o)}},p=(e,n,t,o)=>{const r=dist(e,n,t,o);let l=map(r,0,width,0,512);return l<2&&(l=2),l},u=(e,n,t,o,r=.001,l=30,i=null)=>{push(),noFill(),null===i&&(i=p(e,n,t,o)),i<2&&(i=2),beginShape();for(let p=0;p<i;p+=1){const u=map(p,0,i-1,e,t),c=map(p,0,i-1,n,o),{x:a,y:d}=s({x:u,y:c},r,l);vertex(a,d)}endShape(),pop()},c=(e,n,t,o,r=(()=>!0),l=.001,i=30,u=null)=>{push(),noFill(),null===u&&(u=p(e,n,t,o)),u<2&&(u=2);let c=!1,a=!1;for(let p=0;p<u;p+=1){const d=map(p,0,u-1,e,t),y=map(p,0,u-1,n,o),f=s({x:d,y},l,i);if(r(f)){if(!c){c=!0;continue}a||(beginShape(),a=!0);const{x:e,y:n}=f;vertex(e,n)}else c&&a&&endShape(),c=!1,a=!1}c&&a&&endShape(),pop()},a=(e,n,t,o,r=.001,l=30,i=null)=>{null===i&&(i=map(t>o?t:o,0,width,0,512)),i<4&&(i=4);const p=TWO_PI/i;beginShape();for(let u=0;u<i;u+=1){const i=p*u,c=e+cos(i)*t,a=n+sin(i)*o,{x:d,y}=s({x:c,y:a},r,l);vertex(d,y)}endShape(CLOSE)};return n})()}));