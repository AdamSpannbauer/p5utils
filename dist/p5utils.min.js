!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.p5utils=n():e.p5utils=n()}(self,(function(){return(()=>{"use strict";var e={d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{addNoise:()=>i,drawNoisyPolygon:()=>y,drawPolygon:()=>d,lineIntersection:()=>l,linesIntersect:()=>s,maskedNoisyLine:()=>u,noisyEllipse:()=>a,noisyLine:()=>c});const t=(e,n,t,o,r,s)=>{const l=((e,n,t,o,r,s)=>{const l=(o-n)*(r-t)-(s-o)*(t-e);return 0===l?0:l<0?1:2})(e,n,t,o,r,s);return 1===l},o=(e,n,t,o,r=1e-6)=>e===t?r:(o-n)/(t-e),r=(e,n,t,r)=>{const s=o(e,n,t,r),l=((e,n,t,r)=>n-o(e,n,t,r)*e)(e,n,t,r);return{m:s,b:l}},s=(e,n,o,r,s,l,i,p)=>{const c=t(e,n,o,r,s,l),u=t(o,r,s,l,i,p),a=t(e,n,o,r,i,p);return t(e,n,i,p,i,p)!==u&&c!==a},l=(e,n,t,o,l,i,p,c)=>{if(!s(e,n,t,o,l,i,p,c))return null;const{m:u,b:a}=r(e,n,t,o),{m:d,b:y}=r(l,i,p,c);if(u===d)return null;const f=(y-a)/(u-d);return{x:f,y:u*f+a}},i=({x:e,y:n},t=.001,o=32)=>{const r=noise(e*t,n*t),s=noise(e*t,n*t,42);return{x:e+map(r,0,1,-o,o),y:n+map(s,0,1,-o,o)}},p=(e,n,t,o)=>{const r=dist(e,n,t,o);let s=map(r,0,width,0,512);return s<2&&(s=2),s},c=(e,n,t,o,r=.001,s=30,l=null)=>{push(),noFill(),null===l&&(l=p(e,n,t,o)),l<2&&(l=2),beginShape();for(let p=0;p<l;p+=1){const c=map(p,0,l-1,e,t),u=map(p,0,l-1,n,o),{x:a,y:d}=i({x:c,y:u},r,s);vertex(a,d)}endShape(),pop()},u=(e,n,t,o,r=(()=>!0),s=.001,l=30,c=null)=>{push(),noFill(),null===c&&(c=p(e,n,t,o)),c<2&&(c=2);let u=!1,a=!1;for(let p=0;p<c;p+=1){const d=map(p,0,c-1,e,t),y=map(p,0,c-1,n,o),f=i({x:d,y},s,l);if(r(f)){if(!u){u=!0;continue}a||(beginShape(),a=!0);const{x:e,y:n}=f;vertex(e,n)}else u&&a&&endShape(),u=!1,a=!1}u&&a&&endShape(),pop()},a=(e,n,t,o,r=.001,s=30,l=null)=>{null===l&&(l=map(t>o?t:o,0,width,0,512)),l<4&&(l=4);const p=TWO_PI/l;beginShape();for(let c=0;c<l;c+=1){const l=p*c,u=e+cos(l)*t,a=n+sin(l)*o,{x:d,y}=i({x:u,y:a},r,s);vertex(d,y)}endShape(CLOSE)},d=(e,n,t,o,r=0)=>{const s=TWO_PI/o;beginShape();for(let l=0;l<o;l+=1){const o=r+l*s,i=e+cos(o)*t,p=n+sin(o)*t;vertex(i,p)}endShape(CLOSE)},y=(e,n,t,o,r=0,s=.001,l=30)=>{const i=TWO_PI/o;for(let p=0;p<o;p+=1){let u,a;0===p?(u=r+(o-1)*i,a=r):(u=r+(p-1)*i,a=r+p*i);const d=e+cos(u)*t,y=n+sin(u)*t,f=e+cos(a)*t,m=n+sin(a)*t;c(d,y,f,m,s,l)}};return n})()}));